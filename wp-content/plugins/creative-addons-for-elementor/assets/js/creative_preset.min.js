"use strict";!function(e,t){let n=t.modules.controls.Select.extend({onReady:function(){},onRender:function(){this.constructor.__super__.onRender.apply(this,arguments),this.addResetButton()},addResetButton:function(){let n=this;e("body").off("click",".crel-reset-design"),e("body").on("click",".crel-reset-design",function(){let s=t.getPanelView().getCurrentPageView().getOption("editedElementView");$e.run("document/elements/reset-style",{container:s.getContainer()}),e("[class*=crel_Generic__Presets] select").val(""),n.setSettingsModel("")})},onBaseInputChange:function(t){let n=e(t.currentTarget),s=n.val(),i={};if(n.find("option").each(function(){e(this).val()==s&&(i=e(this).data("value"))}),void 0===i)return;let o=this.getElementSettingsModel().controls,l=this,c={},r=l.model.get("name");c[n.data("setting")]=s,console.log(o),e.each(o,function(t,n){if(r!==t&&void 0!==i[t])if(n.is_repeater){let n=l.getElementSettingsModel().get(t).clone();n.each(function(s,o){void 0!==i[t][o]&&e.each(s.controls,function(e,s){l.isStyleTransferControl(s)&&void 0!==i[t][o][e]&&n.at(o).set(e,i[t][o][e])})}),c[t]=n}else l.isStyleTransferControl(n)&&(c[t]=i[t])}),this.getElementSettingsModel().setExternalChange(c),this.container.render(),$e.components.get("document/save").footerSaver.activateSaveButtons(document,!0)},getElementSettingsModel:function(){return this.container.settings},isStyleTransferControl:function(e){return void 0!==e&&e.style_transfer?e.style_transfer:"content"!==e.tab||e.selectors||e.prefix_class||e.force_preset}});t.addControlView("creative_preset",n)}(window.jQuery,window.elementor),jQuery(document).ready(function(e){function t(t){let n=!1,s=t.val();if(t.find("option").each(function(){e(this).val()==s&&(n=e(this))}),!n)return!0;n.closest("#elementor-controls").find(".crel-preset-v2__select.color").each(function(){if("flex"!==e(this).css("display"))return!0;let t=!1;e(this).find("option").each(function(){if(n.data("colors")&&e(this).val()&&!~n.data("colors").indexOf(e(this).val()))e(this).hide();else if(e(this).show(),!t){t=!0;let n=e(this).closest("select");n.val(e(this).val()),setTimeout(function(){n.trigger("change")},50)}})})}e(document).on("change","[data-setting=crel_presets_v2_general]",function(){let n=e(this).closest("#elementor-controls"),s=e(this);n.find(".crel-preset-v2__select").each(function(){e(this).find("select").val(""),s.val()&&e(this).hasClass(s.val())?(e(this).css({display:"flex"}),e(this).find("select").val(e(this).find("option").eq(0).val()),e(this).find("select").trigger("change"),e(this).hasClass("style")&&t(e(this).find("select"))):e(this).css({display:"none"})})}),e(document).on("change",".crel-preset-v2__select.style select",function(){t(e(this))})});