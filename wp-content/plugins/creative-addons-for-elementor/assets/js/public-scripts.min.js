jQuery(document).ready(function(e){e("body").on("submit",".crel-search-box__search-form",function(i){if(e(".elementor-editor-active, .elementor-editor-preview").length)return!1;i.preventDefault();let r=e(this).find(".crel-search-box__search-form__input").innerWidth();e("[dir=rtl]").length?e(".crel-loading-spinner").css("right",r-35):e(".crel-loading-spinner").css("left",r-35);let n=e(this).closest(".crel-search-box-container");if(""===n.find(".crel-search-box__search-form__input").val())return;let s={action:"crel-search-kb",crel_kb_id:n.find("input[name=crel_kb_id]").val(),search_words:n.find(".crel-search-box__search-form__input").val(),crel_list_size:n.find("input[name=crel_list_size]").val()},t="";e.ajax({type:"GET",dataType:"json",data:s,url:n.find("input[name=crel_ajaxurl]").val(),beforeSend:function(e){n.find(".crel-loading-spinner").show()}}).done(function(e){e=e||"",n.find(".crel-loading-spinner").hide(),t=e.search_result,e.error||"success"!==e.status?n.find(".crel-sbsr__all-results, .crel-sbsr__help-text").hide():n.find(".crel-sbsr__all-results, .crel-sbsr__help-text").show(),e.error||!e.show_more?n.find(".crel-sbsr__all-results").hide():n.find(".crel-sbsr__all-results").show()}).fail(function(e,i,r){t=crel_vars.msg_try_again+". ["+(r||crel_vars.unknown_error)+"]"}).always(function(){t&&(n.find(".crel-search-box__search-results-container").show(),n.find(".crel-search-box__search-results__list-container").html(t))})}),e("body").on("click",".crel-sbsr__all-results",function(){let i=e(this).closest(".crel-search-box-container");return i.find("[name=crel_list_size]").val("-1"),i.find("button").trigger("click"),!1}),e(document).on("click",function(i){"none"!==e(".crel-search-box__search-results-container").css("display")&&e(".crel-search-box__search-results-container").hide()}),e(document).on("click",".crel-image-guide__container",function(){e(this).find("[data-index]").removeClass("crel-image-guide__spot--active")}),e(document).on("click",".crel-image-guide__container [data-index]",function(i){i.stopPropagation();let r=e(this).closest(".crel-image-guide__container"),n=e(this).data("index");r.find("[data-index]").removeClass("crel-image-guide__spot--active"),r.find("[data-index="+n+"]").addClass("crel-image-guide__spot--active")}),e(document).on({mouseenter:function(){let i=e(this).closest(".crel-image-guide__container"),r=e(this).data("index");i.find("[data-index]").removeClass("crel-image-guide__spot--active"),i.find("[data-index="+r+"]").addClass("crel-image-guide__spot--active"),e(this).removeClass("crel-image-guide__spot--active")},mouseleave:function(){if(e(this).hasClass("crel-image-guide__spot--active"))return!0;e(document).find(".crel-image-guide__container [data-index]").removeClass("crel-image-guide__spot--active")}},".crel-image-guide__container [data-index]")});